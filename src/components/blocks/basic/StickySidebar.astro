---
// Sticky sidebar Section
// ------------
// Description: A section with a sticky sidebar. The sticky sidebar content is using the "sidebar" slot
// Properties:
// - id: The id of the section
// - type: determines the position of the sticky sidebar (left or right)
// - SectionType: determines the type of the section (alt or none)
// - SectionDecoration: determines the decoration of the section (corners, all or none)
// - classes: Additional classes to be added to the section

// Components
// - Layout
import Section from '../../ui/Section.astro'
import Row from '../../ui/Row.astro'
import Col from '../../ui/Col.astro'

// Props
type Props = {
	id?: string
	type?: 'left' | 'right'
	SectionType?: 'alt' | 'none'
	SectionDecoration?: 'corners' | 'all' | 'none'
	classes?: string
}
const { id, type = 'left', classes, SectionType = 'none', SectionDecoration = 'none' } = Astro.props
---

<Section
	{...id ? { id } : {}}
	classes={`${classes} overflow-visible!`}
	stickyCol
	decoration={SectionDecoration}
	type={SectionType}
>
	<Row>
		<Col span="3" classes={type === 'right' ? 'lg:order-2' : ''}>
			<div class="sticky-sidebar">
				<slot name="sidebar" />
			</div>
		</Col>
		<Col span="9">
			<slot />
		</Col>
	</Row>
</Section>

<style>
	@reference '../../../styles/global.css';
	.sticky-sidebar {
		@apply lg:sticky lg:top-32;
	}
</style>
